import{j as e,r as n,e as P,u as B,g as S,L as h,f as x,I as E}from"./index-DFEJPJpx.js";import{c as M,r as R,a as L,l as q,I as G,m as D,D as O,e as H,f as $}from"./Mobile-QYNPwOvG.js";const J="/assets/payout-C7ikmbk0.png",V="/assets/w2wIcon-DZchseSI.png",z=()=>e.jsxs("div",{className:"walletToWallet",children:[e.jsx("h2",{children:"Wallet To Wallet"}),e.jsx("p",{children:"Transfer money from one wallet to another."}),e.jsxs("form",{children:[e.jsxs("div",{className:"inputField",children:[e.jsx("label",{htmlFor:"accountNo",children:" Account No. "}),e.jsx("input",{type:"text",placeholder:"Enter Account No.",id:"accountNo",required:!0})]}),e.jsxs("div",{className:"inputField",children:[e.jsx("label",{htmlFor:"amount",children:"Amount"}),e.jsx("input",{type:"text",placeholder:"Enter Amount",id:"amount",required:!0})]}),e.jsx("p",{className:"input",children:e.jsxs("label",{htmlFor:"remarks",children:["Remarks",e.jsx("input",{type:"text",placeholder:"Remarks (optional)",id:"remarks"})]})}),e.jsx("button",{type:"submit",children:"Transfer"})]})]}),K=()=>{const[o,l]=n.useState({}),[r,m]=n.useState("prepaid");return e.jsxs("div",{className:"serviceBox",children:[e.jsx("h2",{className:"title",children:"Mobile Recharge"}),e.jsxs("div",{className:"btnGroup",children:[e.jsx("button",{className:r==="prepaid"?"active":"",onClick:()=>m("prepaid"),children:"Prepaid"}),e.jsx("button",{className:r==="postpaid"?"active":"",onClick:()=>m("postpaid"),children:"Postpaid"})]}),r==="prepaid"?e.jsxs("form",{name:"mobileRecharge",autoComplete:"on",children:[e.jsxs("div",{className:"inputField",children:[e.jsx("label",{htmlFor:"mobile",children:"Mobile No"}),e.jsx("input",{type:"text",placeholder:"Enter Mobile No",id:"mobile",autoComplete:"on",required:!0,onChange:s=>l({...o,mobile:s.target.value})})]}),e.jsxs("div",{className:"inputField",children:[e.jsx("label",{htmlFor:"operator",children:"Operator"}),e.jsxs("select",{id:"operator",onChange:s=>l({...o,operator:s.target.value}),children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select"}),e.jsx("option",{value:"Airtel",children:"Airtel"}),e.jsx("option",{value:"VI",children:"VI "}),e.jsx("option",{value:"Jio",children:"Jio"}),e.jsx("option",{value:"BSNL",children:"BSNL"})]})]}),e.jsxs("div",{className:"inputField",children:[e.jsx("label",{htmlFor:"amount",children:"Amount"}),e.jsx("input",{type:"text",placeholder:"Enter Recharge Amount",id:"amount",required:!0,onChange:s=>{l({...o,amount:s.target.value})}})]}),e.jsx("button",{type:"submit",children:"Recharge Now"})]}):e.jsx(e.Fragment,{children:e.jsxs("form",{name:"mobileRecharge",autoComplete:"on",children:[e.jsxs("div",{className:"inputField",children:[e.jsx("label",{htmlFor:"mobile",children:"Mobile No"}),e.jsx("input",{type:"text",placeholder:"Enter Mobile No",id:"mobile",autoComplete:"on",required:!0,onChange:s=>l({...o,mobile:s.target.value})})]}),e.jsxs("div",{className:"inputField",children:[e.jsx("label",{htmlFor:"amount",children:"Amount"}),e.jsx("input",{type:"text",placeholder:"Enter Bill Amount",id:"amount",required:!0,onChange:s=>{l({...o,amount:s.target.value})}})]}),e.jsxs("div",{className:"inputField",children:[e.jsx("label",{htmlFor:"operator",children:"Operator"}),e.jsxs("select",{id:"operator",required:!0,onChange:s=>{l({...o,operator:s.target.value})},children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select"}),e.jsx("option",{value:"Airtel",children:"Airtel"}),e.jsx("option",{value:"VI",children:"VI "}),e.jsx("option",{value:"Jio",children:"Jio"}),e.jsx("option",{value:"BSNL",children:"BSNL"})]})]}),e.jsx("button",{type:"submit",children:"Recharge Now"})]})})]})},U=()=>{var C;const[o,l]=n.useState(!1),[r,m]=n.useState({cardNo:"",amountPay:""}),{state:s}=P(),[c,Y]=n.useState(s),w=B(),[j,u]=n.useState(""),F=[{name:"Mobile",icon:D},{name:"Dth",icon:O},{name:"Electricity",icon:H},{name:"FASTag",icon:$}],[g,v]=n.useState(!1),[N,p]=n.useState(null),[k,y]=n.useState(!1),b=a=>{m({...r,[a.target.id]:a.target.value})},I=async a=>{if(a.preventDefault(),v(!0),p(null),!r.cardNo||!r.amountPay){p("Please fill out all required fields."),v(!1);return}try{const t=S("token"),i=await fetch("https://chagans.com/payment/creditCard",{method:"POST",headers:{"Content-Type":"application/json",latitude:location.latitude,longitude:location.longitude,authorization:`Bearer ${t}`},body:JSON.stringify(r)});if(!i.ok)throw new Error("Failed to process payment.");(await i.json()).code===200&&m({cardNo:"",amountPay:""})}catch(t){p(t.message||"Payment failed. Try again later.")}},T={morning:["Good morning! Wishing you a day full of positive energy and great opportunities!","Rise and shine! Hope your day is as bright as your smile!","Good morning! May today bring you closer to your goals and dreams!"],afternoon:["Good afternoon! Hope your day is going well and productive!","Hello! Sending you some positive vibes to get through the rest of the day!","Good afternoon! Keep pushing, you're doing great!"],evening:["Good evening! Time to relax and unwind after a productive day.","Hope your evening is filled with peace and calm!","Good evening! Let the night bring you comfort and relaxation."],night:["Good night! Rest well and wake up refreshed for a brand new day.","Wishing you a peaceful and restful night. Sweet dreams!","Good night! May your dreams be sweet and your rest be deep."]};function A(){const a=new Date().getHours();let t;a>=5&&a<12?t="morning":a>=12&&a<16?t="afternoon":a>=16&&a<21?t="evening":t="night";const i=T[t],d=Math.floor(Math.random()*i.length);return i[d]}const f=S("token"),W=async a=>{const t=a.target;if(!f)alert("Please login to continue"),w("/login");else try{t.onclick=null,t.innerText="Fetching balance...";const i=await fetch("https://chagans.com/user/checkBalance",{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${f}`}});if(!i.ok)throw new Error("Failed to fetch balance.");const d=await i.json();console.log(d),d!=null&&d.success&&(t.innerText="₹ "+d.balance)}catch(i){console.log(i)}};return e.jsxs("section",{className:"contentBox",children:[e.jsxs("div",{className:"headerArea",children:[e.jsxs("h2",{children:["Welcome,"," ",e.jsx("span",{className:"themeText",children:(c==null?void 0:c.name)||"Chagans Services"})]}),e.jsx("p",{className:"greeting",children:A()})]}),e.jsx("div",{className:"contentHeader",children:e.jsxs("div",{className:"card",children:[e.jsx("h3",{children:(C=c==null?void 0:c.companyDetails)==null?void 0:C.shopName}),e.jsx("h4",{children:"Account Name: Suraj Yadav"}),e.jsxs("p",{className:"cardNumber",children:[" ","+91 **** ** ",c==null?void 0:c.phoneNumber.toString().slice(-4)," "]}),e.jsxs("p",{children:["balance :"," ",e.jsx("span",{className:"balance",onClick:W,children:"₹ ***"})]})]})}),e.jsxs("div",{className:"contentBody",children:[e.jsxs("div",{className:"services",children:[e.jsxs(h,{to:"/admin/payout",className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:J,alt:"payout"})}),e.jsx("h3",{children:"Payout"})]}),e.jsxs(h,{onClick:()=>l(!0),className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:M,alt:"creditCard"})}),e.jsx("h3",{children:"Credit Card"})]}),e.jsxs(h,{to:"/rental-agreement",className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:R,alt:"utility"})}),e.jsx("h3",{children:"Rent Agreement"})]}),e.jsxs(h,{to:"/affidavit",className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:L,alt:"creditCard"})}),e.jsx("h3",{children:"Affidavit"})]}),e.jsxs(h,{to:"/loan-payer",className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:q,alt:"creditCard"})}),e.jsx("h3",{children:"Loan Repayment"})]}),F.map(a=>e.jsxs("div",{className:"service",onClick:()=>u(a.name),children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:a.icon,alt:a.name})}),e.jsx("h3",{children:a.name})]},a.name)),e.jsxs(h,{onClick:()=>y(!0),className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:V,alt:"creditCard"})}),e.jsx("h3",{children:"Wallet to Wallet"})]}),e.jsxs(h,{to:"/admin/insurance",className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:G,alt:"insurance"})}),e.jsx("h3",{children:"Insurance"})]})]}),k&&e.jsx(x,{cmp:e.jsx(z,{}),func:()=>y(!1)}),j==="Mobile"&&e.jsx(x,{cmp:e.jsx(K,{}),func:()=>u("")}),j==="FASTag"&&e.jsx(x,{cmp:e.jsx(Fastag,{}),func:()=>u("")}),o&&e.jsx("div",{className:`creditSide ${o?"open":""}`,children:e.jsxs("aside",{className:"creditSideBar",children:[e.jsx("h2",{children:"Enter Card details"}),e.jsx("button",{onClick:()=>l(!1),className:"closeBtn",children:e.jsx(E,{})}),e.jsxs("form",{className:"creditCard",onSubmit:I,children:[e.jsx("div",{className:"inputField",children:e.jsx("input",{type:"text",pattern:"^[0-9]{16}$",placeholder:"Enter Card Number ",required:!0,maxLength:16,id:"cardNo",value:r.cardNo,onChange:b})}),e.jsx("div",{className:"inputField",children:e.jsx("input",{type:"text",pattern:"^[0-9]+$",required:!0,placeholder:"Enter Amount Rs. ",id:"amountPay",value:r.amountPay,onChange:b})}),N&&e.jsx("p",{className:"error",children:N}),e.jsx("button",{type:"submit",disabled:g,children:g?"Processing...":"Pay Now"})]})]})})]})]})},X=()=>(n.useState(!1),n.useState(null),e.jsx("main",{className:"Dashboard",children:e.jsx("div",{className:"maxWidth",children:e.jsx(U,{})})}));export{X as default};
