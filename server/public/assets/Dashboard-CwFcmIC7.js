import{r as a,j as e,L as t,g as j}from"./index-CcEFgusN.js";import{I as g}from"./index-BA8vt3UW.js";const N="/assets/payout-C7ikmbk0.png",f="/assets/utility-CQw1LUPr.png",y="/assets/creditCard-BOX1d2qC.png",v="/assets/rentAgreement-BuwVuENa.png",C="/assets/affidavit-jP0NXdph.png",b=()=>{const[u,i]=a.useState(!1),[s,x]=a.useState({cardNo:"",amountPay:""}),[d,n]=a.useState(!1),[o,l]=a.useState(null),m=r=>{x({...s,[r.target.id]:r.target.value})},p=async r=>{if(r.preventDefault(),n(!0),l(null),!s.cardNo||!s.amountPay){l("Please fill out all required fields."),n(!1);return}try{const c=j("token"),h=await fetch("https://fintech-le5u.onrender.com/payment/creditCard",{method:"POST",headers:{"Content-Type":"application/json",latitude:location.latitude,longitude:location.longitude,authorization:`Bearer ${c}`},body:JSON.stringify(s)});if(!h.ok)throw new Error("Failed to process payment.");const S=await h.json();alert("Payment Successful!"),i(!1)}catch(c){l(c.message||"Payment failed. Try again later.")}finally{n(!1)}};return e.jsxs("section",{className:"contentBox",children:[e.jsx("div",{className:"contentHeader",children:e.jsxs("div",{className:"card",children:[e.jsx("h3",{children:"Chagans Fintech"}),e.jsx("h4",{children:"Card Holder Name : Admin"}),e.jsx("p",{className:"cardNumber",children:" **** **** **** 1234 "}),e.jsx("p",{children:"balance : â‚¹ 500"})]})}),e.jsxs("div",{className:"contentBody",children:[e.jsxs("div",{className:"services",children:[e.jsxs(t,{to:"/admin/payout",className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:N,alt:"payout"})}),e.jsx("h3",{children:"Payout"})]}),e.jsxs(t,{to:"/admin/utility",className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:f,alt:"utility"})}),e.jsx("h3",{children:"Utility"})]}),e.jsxs(t,{onClick:()=>i(!0),className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:y,alt:"creditCard"})}),e.jsx("h3",{children:"Credit Card"})]}),e.jsxs(t,{to:"/rental-agreement",className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:v,alt:"utility"})}),e.jsx("h3",{children:"Rent Agreement"})]}),e.jsxs(t,{to:"/affidavit",className:"service",children:[e.jsx("div",{className:"imageWrapper",children:e.jsx("img",{src:C,alt:"creditCard"})}),e.jsx("h3",{children:"Affidavit"})]})]}),e.jsx("div",{className:`creditSide ${u?"open":""}`,children:e.jsxs("aside",{className:"creditSideBar",children:[e.jsx("h2",{children:"Enter Card details"}),e.jsx("button",{onClick:()=>i(!1),className:"closeBtn",children:e.jsx(g,{})}),e.jsxs("form",{className:"creditCard",onSubmit:p,children:[e.jsx("div",{className:"inputField",children:e.jsx("input",{type:"text",pattern:"^[0-9]{16}$",placeholder:"Enter Card Number ",required:!0,maxLength:16,id:"cardNo",value:s.cardNo,onChange:m})}),e.jsx("div",{className:"inputField",children:e.jsx("input",{type:"text",pattern:"^[0-9]+$",required:!0,placeholder:"Enter Amount Rs. ",id:"amountPay",value:s.amountPay,onChange:m})}),o&&e.jsx("p",{className:"error",children:o}),e.jsx("button",{type:"submit",disabled:d,children:d?"Processing...":"Pay Now"})]})]})})]})]})},B=()=>(a.useState(!1),a.useState(null),e.jsx("main",{className:"Dashboard",children:e.jsx("div",{className:"maxWidth",children:e.jsx(b,{})})}));export{B as default};
